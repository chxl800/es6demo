<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Set</title>
  <script>
    ;(function () {
      // 你可以理解为值的集合 它的值不会有重复项。
      var s = new Set();
      console.log(s);
      //打印结果：Set {}
      var s = new Set([1, 2, 3]);
      console.log(s);
      //打印结果：Set {1, 2, 3}
      var s = new Set();
      //使用add方法添加成员
      s.add(1);
      s.add(2);
      s.add(3);
      console.log(s);
      //打印结果：Set {1, 2, 3}
    })();

    ;(function () {
      //set结构会自动忽略相同的值，只会保留一个相同的值。
      var s = new Set();
      s.add(1);
      s.add(1);
      console.log(s);
      //打印结果： Set {1}
    })();

    ;(function () {
      let s = new Set([1, 2, 3, 4]);
      console.log(s.size); //结果：4
    })();

    ;(function () {
      //用户删除Set结构中的指定值，删除成功返回：true，删除失败返回：fasle。
      //用数组作为参数初始化
      var s = new Set([1, 2, 3]);
      console.log(s);
      //打印结果：Set {1, 2, 3}
      //使用delete方法删除指定值
      console.log(s.delete(2));//结果：true
      console.log(s.delete(4));//结果：false
      console.log(s);
      //打印结果：Set {1, 3}
    })();

    ;(function () {
      // clear( )方法：清除所有成员。
      //用数组作为参数初始化
      var s = new Set([1, 2, 3]);
      console.log(s);
      //打印结果：Set {1, 2, 3}
      s.clear();
      console.log(s);
      //打印结果：Set {}
    })();

    ;(function () {
      //断set结构中是否含有指定的值
      //用数组作为参数初始化
      var s = new Set([1, 2, 3]);
      s.has(1);//结果：true
      s.has(4);//结果：false
    })();


    ;(function () {
      //entries( )方法：返回一个键值对的遍历器。
      //keys()方法：返回键名的遍历器。
      //values()方法：返回键值的遍历器。

      //用数组作为参数初始化
      var s = new Set(['a', 'b', 'c']);
      console.log(s.entries());
      //结果：SetIterator {"a", "b", "c"}
      //用数组作为参数初始化
      var s = new Set(['a', 'b', 'c']);
      console.log(s.keys());
      //结果：SetIterator {"a", "b", "c"}
      console.log(s.values());
      //结果：SetIterator {"a", "b", "c"}
    })();


    ;(function () {
      //用数组作为参数初始化
      var s = new Set(['a', 'b', 'c']);
      //用for...of遍历
      for (let [i, v] of s.entries()) {
        console.log(i + ' ' + v);
      }
      //打印结果：a  a
      //         b  b
      //         c  c
      //用数组作为参数初始化
      var s = new Set(['a', 'b', 'c']);
      //使用回调函数遍历每个成员
      s.forEach(function(value, key){
        console.log(value, key)
      });
      //打印结果：a  a
      //         b  b
      //         c  c
    })();

    ;(function () {
      //目标数组arr，要求去重
      let arr = [1, 2, 2, 3, 4, 4, 4];
      let s = new Set(arr);
      console.log(s);
      //结果：Set {1,2,3,4}
      let newArr = Array.from(s); //转数组
      console.log(newArr);
      //结果：[1,2,3,4],完成去重
    })();

    ;(function () {
      //WeakSet结构同样不会存储重复的值，不同的是，它的成员必须是对象类型的值。（严格来说是：具有 iterable 接口的对象）

      //初始化一个WeakSet对象
      let ws = new WeakSet([{"age" : 18}]);
      console.log(ws);
      //结果：WeakSet {Object {age: 18}}
    })();

    ;(function () {
      let arr1 = [1];
      let arr2 = [2];
      //初始化一个WeakSet对象,参数是数组类型
      let ws = new WeakSet([arr1, arr2]);
      console.log(ws);
      //结果：WeakSet {Object {age: 18}}
    })();
  </script>
</head>
<body>

</body>
</html>
